Esercizio 1 â€“ Sistema di Gestione Biblioteca
ğŸ¯ Obiettivo dellâ€™esercizio

Progettare e utilizzare un database relazionale per la gestione di una biblioteca, in grado di:
memorizzare i libri disponibili,
gestire gli utenti iscritti,
tracciare i prestiti dei libri nel tempo.

Lâ€™esercizio prevede:
la comprensione del modello dati (diagramma ER),
lâ€™inserimento dei dati,
la modifica e gestione dei dati nel rispetto delle normative (GDPR).

ğŸ§± Struttura del database (diagramma ER â€“ descrizione)

Il database Ã¨ composto da tre tabelle principali, collegate tra loro tramite chiavi primarie e chiavi esterne.
ğŸ“˜ Tabella Libri
Contiene le informazioni sui libri presenti in biblioteca.
Campo	Descrizione
id_libro (PK)	Identificativo univoco del libro
titolo	Titolo del libro
autore	Autore del libro
genere	Genere letterario
anno_pubblicazione	Anno di pubblicazione

ğŸ‘¤ Tabella Utenti
Contiene i dati degli utenti iscritti alla biblioteca.
Campo	Descrizione
id_utente (PK)	Identificativo univoco dellâ€™utente
nome	Nome dellâ€™utente
cognome	Cognome dellâ€™utente
email	Indirizzo email
telefono	Numero di telefono

ğŸ” Tabella Prestiti

id_prestito (PK)	Identificativo del prestito
id_libro (FK)	Libro preso in prestito
id_utente (FK)	Utente che prende il libro
data_prestito	Data di inizio prestito
data_restituzione_prevista	Data entro cui il libro va restituito
data_restituzione_effettiva	Data reale di restituzione (NULL se non restituito)
ğŸ” Vincoli logici del sistema

Un libro puÃ² essere preso in prestito da un solo utente alla volta
Questo significa che non possono esistere due prestiti attivi per lo stesso libro.
Un utente puÃ² effettuare piÃ¹ prestiti nel tempo
Lo stesso utente puÃ² prendere piÃ¹ libri o lo stesso libro in momenti diversi.

ğŸŸ¢ Punto 1 â€“ Insert e popolazione dei dati
ğŸ“Œ Consegna
Popolare il database inserendo almeno 20 record complessivi, distribuiti sulle tre tabelle.
La popolazione deve rispettare le relazioni tra le tabelle (chiavi primarie e chiavi esterne).

QuantitÃ  minime richieste:

ğŸ“˜ Libri: almeno 10 record
ğŸ‘¤ Utenti: almeno 5 record
ğŸ” Prestiti: almeno 5 record

ğŸ“Œ Suggerimento:
nei prestiti, lasciare data_restituzione_effettiva a NULL per simulare un prestito ancora attivo.



ğŸŸ¡ Punto 2 â€“ Modifica dei dati di un utente
ğŸ“Œ Consegna

Scrivere una query SQL per aggiornare i dati di un utente giÃ  esistente.
In particolare:
modificare lâ€™indirizzo email
modificare il numero di telefono

ğŸ“ Lâ€™utente da aggiornare ha:
id_utente = 2

Nuovi valori:
email = 'laura.bianchi@nuovamail.it'
telefono = '3339990000'

ğŸ“Œ Obiettivo didattico:
imparare a usare correttamente lâ€™istruzione UPDATE con la clausola WHERE.



ğŸ”´ Punto 3 â€“ Cancellazione utente per GDPR (anonimizzazione)
Gestire la cancellazione di un utente nel rispetto del GDPR.
ğŸ‘‰ Non eliminare fisicamente il record dal database.
ğŸ‘‰ Anonimizzare i dati personali, mantenendo perÃ² i riferimenti ai prestiti effettuati.

Lâ€™utente da anonimizzare ha:
id_utente = 3

Regole di anonimizzazione:
nome â†’ ANONIMO
cognome â†’ ANONIMO
altri dati personali (email, telefono) â†’ NULL

ğŸ“Œ Obiettivo didattico:
comprendere la differenza tra DELETE e anonimizzazione
mantenere lâ€™integritÃ  dei dati storici




Punto 4 â€“ Select: utente che ha attualmente in prestito un libro (ricerca per titolo)
ğŸ“Œ Consegna (descrizione migliorata)

Scrivere una query SQL che, dato il titolo di un libro, restituisca i dati dellâ€™utente che attualmente ha il libro in prestito.
Un libro si considera attualmente in prestito se la data di restituzione effettiva Ã¨ NULL.
La query deve mostrare:
Nome dellâ€™utente
Cognome dellâ€™utente
Titolo del libro
Data di prestito

ğŸ§  Logica
Collegare le tabelle prestiti, utenti e libri
Filtrare per titolo
Verificare che il prestito sia ancora attivo

ğŸ§¾ Query SQL

ğŸ“Œ Nota didattica
Se il risultato Ã¨ vuoto, significa che:
il libro non Ã¨ attualmente in prestito oppure
il titolo inserito non esiste

ğŸŸ£ Punto 5 â€“ Select: elenco degli utenti che hanno letto un libro (ricerca per titolo)
ğŸ“Œ Consegna (descrizione migliorata)

Scrivere una query SQL che, dato il titolo di un libro, restituisca la lista degli utenti che hanno letto quel libro nel tempo.
Un utente si considera aver letto il libro se il prestito risulta concluso, cioÃ¨ se la data di restituzione effettiva non Ã¨ NULL.

La query deve mostrare:
Nome dellâ€™utente
Cognome dellâ€™utente
Titolo del libro
Ogni utente deve comparire una sola volta, anche se ha preso in prestito lo stesso libro piÃ¹ volte.

ğŸ§  Logica
Collegare prestiti, utenti e libri
Filtrare per titolo
Considerare solo i prestiti restituiti
Evitare duplicati